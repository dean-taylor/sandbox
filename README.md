# Sandbox

This is a development and testing environment utilising the following main components.

* VirtualBox
* Vagrant
* Ansible

## Core requirements:

* Platform agnostic
  Supports Linux, Mac and Windows.
* Shareable
  All project team members should be able to use this resource to aid in collaboration.
* Generic as possible
  All Ansible provisioning can be triggerd via the standard `vagrant provision` command.
* Minimise setup tasks
  Although there are amny Vagrant plugins to make things work these have been avoided to reduce dependancies.

## Stuff that makes this work.

* Folder share `/vagrant` to the base project directory is essential as many setup scripts require access to the .vagrant folder on the host.
* Multicast DNS configured for the private network to provide name and IP resolution.
  * The `.local` mDNS standard name has been added to the DNS client search path.
* SSH access to individual nodes.
  * There are a number of scripts in play depending on provisioning type and access.
  * From the host the usual `vagrant ssh` command is still utilised.
  * From one host to another using an active session the `ssh-agent` has been configured and the Vagrant generated private keys have been automatically loaded.
  * On Windows using Vagrants ansible_local provisioner (no interactive session).
    * A global SSH client configuration file has been generated for all the Vagrant machines.
    * Entries for the Vagrant users ssh_config have been added to utilise individual private key files generated by Vagrant
    * The Vagrant generated SSH private key files have been synced to the vagrant users home folder and mandated file permissions have been applied for the ssh client.
